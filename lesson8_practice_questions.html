<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Security+ Lesson 8 – Interactive PBQ (Multiple Choice)</title>
<style>
  :root{
    --ink:#1b1f2f; --muted:#4e566c; --accent:#2463eb; --line:#e2e6ef; --ok:#0b6b2f; --bad:#a5282c; --bg:#ffffff; --hint:#0b6b2f22; --warn:#a5282c22;
  }
  *{box-sizing:border-box}
  body{margin:0; font:16px/1.55 "Segoe UI", Roboto, system-ui, -apple-system, Arial, sans-serif; color:var(--ink); background:var(--bg);}
  header{padding:24px 20px 10px; border-bottom:1px solid var(--line);}
  h1{margin:.2rem 0; font-size:1.4rem;}
  .sub{color:var(--muted);}
  .meta-grid{display:flex; gap:10px; flex-wrap:wrap; margin-top:.5rem;}
  .pill{border:1px solid var(--line); border-radius:999px; padding:.2rem .6rem; color:var(--muted);}
  main{max-width:1000px; margin:0 auto; padding:18px 20px 40px;}
  h2{font-size:1.1rem; color:var(--accent); margin:.3rem 0 .7rem;}
  .card{border:1px solid var(--line); border-radius:12px; padding:16px; margin:16px 0; background:#fff;}
  .controls{display:flex; flex-wrap:wrap; gap:8px; margin:8px 0 0;}
  button{appearance:none; border:1px solid var(--line); background:#fff; padding:.55rem .9rem; border-radius:10px; cursor:pointer; font-weight:600}
  button:hover{border-color:var(--accent)}
  button.primary{background:var(--accent); color:#fff; border-color:var(--accent)}
  button.ghost{background:transparent}

  .q{margin:1rem 0; border:1px solid var(--line); border-radius:12px; padding:14px}
  .q-header{display:flex; align-items:flex-start; justify-content:space-between; gap:8px}
  .q-title{font-weight:600}
  .q-body{margin-top:.5rem}
  .opts{display:grid; gap:.4rem; margin:.6rem 0 0}
  .opt{display:flex; gap:.6rem; align-items:flex-start; padding:.45rem .55rem; border-radius:10px; border:1px solid transparent}
  .opt input{margin-top:.25rem}
  .opt label{display:block; cursor:pointer}
  .q.correct{border-color:var(--ok); background:var(--hint)}
  .q.incorrect{border-color:var(--bad); background:var(--warn)}
  .explain{margin-top:.6rem; font-size:.95rem; color:var(--muted)}
  .akey{color:var(--ok); font-weight:700}
  .scorebar{display:flex; align-items:center; gap:10px;}
  progress{width:240px; height:14px}
  .sr-only{position:absolute; left:-10000px; width:1px; height:1px; overflow:hidden}

  details > summary{cursor:pointer; color:var(--accent); font-weight:600}
  details .akey{display:inline-block; margin-left:.25rem}

  @media print{
    header{border:none}
    button, .controls{display:none !important}
    .q{page-break-inside:avoid}
  }
</style>
</head>
<body>
<header>
  <div class="sub">CompTIA Security+ • Lesson 8</div>
  <h1>Practice / Study Questions (Interactive PBQ)</h1>
  <div class="meta-grid">
    <div class="pill">Topic: Vulnerability Management</div>
    <div class="pill" id="qcount">15 Questions</div>
    <div class="pill">Printable</div>
  </div>
</header>

<main>
  <section class="card">
    <h2>Instructions</h2>
    <p>Answer each question, then choose <strong>Check</strong> to see immediate feedback and an explanation. Use <strong>Check All</strong> to grade everything at once, <strong>Shuffle</strong> to change the order (for the 15 currently shown), and <strong>Reset</strong> to load the next set of 15 questions.</p>
    <div class="controls">
      <button class="primary" id="btnCheckAll" type="button" aria-label="Check all questions">Check All</button>
      <button id="btnReset" type="button">Reset (Next 15)</button>
      <button id="btnShuffle" type="button" class="ghost">Shuffle</button>
    </div>
  </section>

  <section id="qs" class="card" aria-live="polite">
    <h2>Questions</h2>
    <div id="qWrap"></div>
  </section>

  <section class="card" id="results" hidden>
    <h2>Results</h2>
    <div class="scorebar">
      <div id="scoreText" aria-live="polite">0 / 15 correct</div>
      <progress id="scoreProg" max="15" value="0" aria-hidden="true"></progress>
    </div>
  </section>

  <section class="card">
    <details>
      <summary>Show answer key</summary>
      <ol id="answerKey"></ol>
    </details>
  </section>
</main>

<script>
// --- Data model (Lesson 8) ---------------------------------------------------
const BANK = [
  // --- Original kept (1 of 15) ---
  {
    q: "What is the primary purpose of vulnerability management?",
    options: [
      "Encrypting all network traffic end-to-end",
      "Identifying, evaluating, treating, and reporting security weaknesses on a continuous cycle",
      "Blocking all inbound ports at the perimeter",
      "Replacing legacy systems with cloud services"
    ],
    a: 1,
    why: "Vulnerability management is a continuous lifecycle: identify → assess → treat (patch/config/compensate) → report/verify.",
    feedback: {
      A: "Encryption helps confidentiality but is not the definition of vulnerability management.",
      C: "Blocking ports is a single hardening action, not a full management process.",
      D: "Replacing systems can be a treatment path, but it’s not the definition."
    }
  },

  // --- Previously added 14 ---
  {
    q: "An organization continues to use a custom-built accounting software from the 1990s because replacing it would be too expensive. The vendor still provides security patches, but the technology is outdated and incompatible with modern systems. How is this system best described?",
    options: ["Zero-day system","End-of-Life (EOL) system","Misconfigured system","Legacy system"],
    a: 3,
    why: "A legacy system is old/outdated but still supported; EOL means no vendor patches. This scenario explicitly says patches still exist.",
    feedback: {
      A: "Zero-day refers to an unknown/unpatched vulnerability, not to the age of a system.",
      B: "EOL means no vendor support/patches; here, the vendor still provides patches.",
      C: "Nothing indicates a configuration error; the issue is age/compatibility."
    }
  },
  {
    q: "A penetration tester discovers they can escape from a virtual machine and access the underlying host operating system. What type of vulnerability has been exploited?",
    options: ["Resource reuse","Hypervisor misconfiguration","Firmware vulnerability","VM escape"],
    a: 3,
    why: "A VM escape breaks isolation and lets code in a guest impact the host/hypervisor or other guests.",
    feedback: {
      A: "Resource reuse is a separate flaw (e.g., uninitialized memory reuse).",
      B: "Misconfiguration can contribute, but the described outcome is specifically a VM escape.",
      C: "Firmware issues live below the OS; this is a virtualization boundary failure."
    }
  },
  {
    q: "What is the primary characteristic of a zero-day vulnerability?",
    options: [
      "It can only be exploited by nation-state actors with advanced resources.",
      "It affects millions of devices simultaneously upon release.",
      "It is a flaw unknown to the software vendor, who has had 'zero days' to fix it.",
      "It specifically targets end-of-life (EOL) systems that no longer receive patches."
    ],
    a: 2,
    why: "Zero-day = unknown to the vendor (no patch yet). It’s about disclosure/awareness, not who exploits it or how many devices.",
    feedback: {
      A: "Any capable attacker may exploit a zero-day; nation-states are not required.",
      B: "Impact scope varies; zero-day status is not defined by scale.",
      D: "EOL status is unrelated; zero-days can affect supported products."
    }
  },
  {
    q: "An attacker crafts a URL that, when clicked by a user, injects malicious script into the web page returned by a trusted site. The script then executes in the user's browser. What kind of attack is this?",
    options: ["SQL Injection (SQLi)","Malicious Update","Cross-Site Scripting (XSS)","Buffer Overflow"],
    a: 2,
    why: "XSS injects client-side script that runs in the victim’s browser with the site’s trust context.",
    feedback: {
      A: "SQLi targets backend databases via SQL; this prompt describes script in the browser.",
      B: "A malicious update is a supply-chain issue, not client-side script injection.",
      D: "Buffer overflows corrupt memory; this is about injected script execution."
    }
  },
  {
    q: "A developer needs to create a comprehensive inventory of all third-party libraries and components used in their software application to identify potential supply chain risks. What is this inventory called?",
    options: ["Vulnerability Feed","Penetration Test Report","Software Bill of Materials (SBOM)","Common Vulnerabilities and Exposures (CVE) list"],
    a: 2,
    why: "An SBOM lists all components and versions, enabling rapid impact analysis when a dependency is found vulnerable.",
    feedback: {
      A: "A vuln feed lists vulnerabilities, not your app’s components.",
      B: "A pen test report documents test findings, not your dependency inventory.",
      D: "CVE is an identifier catalog for vulnerabilities, not your component list."
    }
  },
  {
    q: "An organization wants to gain visibility into how employees are using cloud services and enforce security policies like single sign-on and malware scanning for cloud applications. Which technology is designed for this purpose?",
    options: ["Security Information and Event Management (SIEM)","Cloud Access Security Broker (CASB)","Web Application Firewall (WAF)","Network Vulnerability Scanner"],
    a: 1,
    why: "A CASB governs and monitors cloud app use (visibility, policy enforcement, DLP, malware checks, SSO integrations).",
    feedback: {
      A: "A SIEM aggregates/logs events; it does not broker or enforce SaaS policies inline.",
      C: "A WAF protects web apps from HTTP-layer attacks, not overall SaaS usage.",
      D: "A scanner finds vulnerabilities; it doesn’t broker SaaS access/policies."
    }
  },
  {
    q: "What is the primary difference between a credentialed and a non-credentialed vulnerability scan?",
    options: [
      "Credentialed scans look for network vulnerabilities, while non-credentialed scans look for application vulnerabilities.",
      "Credentialed scans can log into systems for in-depth analysis, while non-credentialed scans test from an unprivileged network perspective.",
      "Credentialed scans are automated, while non-credentialed scans are manual.",
      "Credentialed scans use open-source tools, while non-credentialed scans use proprietary tools."
    ],
    a: 1,
    why: "Credentialed scans authenticate to hosts for deeper checks (patch/config); non-credentialed emulate the external/unauth’d view.",
    feedback: {
      A: "Both can assess network and app facets; the key difference is authentication depth.",
      C: "Both can be automated; manual vs automated is not the distinction.",
      D: "Tool licensing is unrelated to credential level."
    }
  },
  {
    q: "The Heartbleed bug was a severe vulnerability in the OpenSSL cryptographic library, allowing attackers to read a system's memory and compromise secret keys. What type of vulnerability does this represent?",
    options: ["Cryptographic vulnerability","Operating System vulnerability","Firmware vulnerability","Misconfiguration vulnerability"],
    a: 0,
    why: "Heartbleed was in OpenSSL (crypto library), exposing memory and potentially private keys—classic cryptographic implementation flaw.",
    feedback: {
      B: "It’s in a library, not the OS kernel or platform itself.",
      C: "Firmware is below the OS; OpenSSL runs in user space.",
      D: "Misconfiguration wasn’t the root cause; it was a code flaw."
    }
  },
  {
    q: "The process of installing applications on an Android device from sources other than the official Google Play Store is known as what?",
    options: ["Rooting","Sideloading","Jailbreaking","Patching"],
    a: 1,
    why: "Sideloading = installing apps from outside the official store. (Rooting/jailbreaking elevate privileges.)",
    feedback: {
      A: "Rooting is privilege escalation on Android, not just installing from outside the store.",
      C: "Jailbreaking is the iOS term for privilege escalation.",
      D: "Patching updates software; it’s unrelated to installation source."
    }
  },
  {
    q: "A security team uses a vulnerability scanner and receives a report indicating a critical vulnerability on a server. Upon investigation, they discover the server is not running the software associated with the vulnerability. What has occurred?",
    options: ["A true positive","A false negative","A false positive","A true negative"],
    a: 2,
    why: "The scanner reported a vuln that does not actually exist on the host → false positive.",
    feedback: {
      A: "True positive means the finding is real; it wasn’t.",
      B: "False negative means a real issue was missed; here, the issue wasn’t real.",
      D: "True negative means correctly no issue; the scanner did flag one."
    }
  },
  {
    q: "A vulnerability is discovered in a critical system, but a patch is not yet available. To reduce the risk, the security team places the system on an isolated network segment with stricter firewall rules. This mitigation strategy is an example of a what?",
    options: ["Exception","Re-scan","Patch","Compensating control"],
    a: 3,
    why: "A compensating control reduces risk when the primary fix (patch) isn’t yet possible—e.g., isolation, ACLs, IPS rules.",
    feedback: {
      A: "An exception documents deviation; it doesn’t mitigate by itself.",
      B: "Re-scanning verifies fixes; it doesn’t mitigate.",
      C: "There is no patch yet—that’s why a compensating control is used."
    }
  },
  {
    q: "The Common Vulnerability Scoring System (CVSS) is used for what primary purpose in vulnerability management?",
    options: [
      "To provide a unique identifier for each vulnerability, like CVE-2022-1234.",
      "To automatically deploy patches to affected systems across an enterprise.",
      "To catalog the components and dependencies within a software application.",
      "To rate the severity of vulnerabilities and help prioritize remediation efforts."
    ],
    a: 3,
    why: "CVSS provides standardized severity scoring to support prioritization (often combined with exploit maturity and business impact).",
    feedback: {
      A: "CVE provides identifiers; CVSS provides severity scoring.",
      B: "Patch deployment tools do that; CVSS does not deploy patches.",
      C: "Cataloging components is the SBOM’s job."
    }
  },
  {
    q: "What is a primary benefit of implementing a bug bounty program?",
    options: [
      "It guarantees that no vulnerabilities will be found by malicious actors.",
      "It provides a predictable, fixed cost for a comprehensive security audit.",
      "It leverages a diverse and global community of security researchers to find vulnerabilities.",
      "It replaces the need for automated vulnerability scanning and internal testing."
    ],
    a: 2,
    why: "Bug bounties crowdsource security testing to a broad researcher community, often uncovering issues traditional testing misses.",
    feedback: {
      A: "No program can guarantee zero findings by attackers.",
      B: "Costs vary with submissions/payouts; not strictly fixed.",
      D: "Bounties complement—not replace—scanners and internal testing."
    }
  },
  {
    q: "A time-of-check to time-of-use (TOCTOU) vulnerability is a specific type of which broader category of application flaw?",
    options: ["Race condition","SQL injection","Cryptographic vulnerability","Buffer overflow"],
    a: 0,
    why: "TOCTOU is a race condition: state changes between validation (check) and consumption (use).",
    feedback: {
      B: "SQL injection targets query construction, not timing/state races.",
      C: "Crypto flaws are unrelated to timing-of-check/use logic.",
      D: "Buffer overflows are memory safety issues, not timing races."
    }
  },

  // --- YOUR NEW 7 QUESTIONS (added to the bank) ---
  {
    q: "Which of the following best describes an End-of-Life (EOL) system?",
    options: [
      "A system that is brand new and receives regular updates",
      "A system that no longer receives vendor support or security patches",
      "A system that is physically damaged but still in use",
      "A system that has reached its maximum memory capacity"
    ],
    a: 1,
    why: "EOL means the vendor has stopped support and patching, increasing risk.",
    feedback: {
      A: "That’s the opposite of EOL.",
      C: "Physical damage isn’t what defines EOL.",
      D: "Memory capacity doesn’t determine support status."
    }
  },
  {
    q: "Why are legacy systems still used in many organizations despite their vulnerabilities?",
    options: [
      "Because they are the most secure systems available",
      "Because replacing them can be costly and complex",
      "Because vendors continue to update them regularly",
      "Because they are incompatible with business functions"
    ],
    a: 1,
    why: "Cost, complexity, and operational disruption often keep legacy systems in place.",
    feedback: {
      A: "Legacy systems are generally less secure, not more.",
      C: "Many are no longer updated or are minimally supported.",
      D: "They’re kept because they still support needed functions."
    }
  },
  {
    q: "What is “jailbreaking” in the context of mobile security?",
    options: [
      "Encrypting your phone’s data for extra protection",
      "Gaining full access to a device by removing OS restrictions",
      "Updating your device’s firmware",
      "Installing apps from the official store only"
    ],
    a: 1,
    why: "Jailbreaking (iOS) removes OS restrictions, granting full control but bypassing protections.",
    feedback: {
      A: "Encryption improves security; jailbreaking reduces safeguards.",
      C: "Firmware updates are legitimate maintenance.",
      D: "Jailbreaking enables unauthorized installs, not official-only."
    }
  },
  {
    q: "What is a key danger of “sideloading” applications?",
    options: [
      "It requires too much internet bandwidth",
      "Apps from unofficial sources may contain malware",
      "It automatically deletes security certificates",
      "It prevents app updates"
    ],
    a: 1,
    why: "Unofficial sources lack store vetting; malware risk is higher.",
    feedback: {
      A: "Bandwidth isn’t the risk factor.",
      C: "Sideloading doesn’t auto-delete certs.",
      D: "Some sideloaded apps can still be updated manually."
    }
  },
  {
    q: "Which method helps mitigate buffer overflow attacks?",
    options: [
      "Disabling antivirus",
      "Using type-safe programming languages and ASLR",
      "Increasing buffer size only",
      "Disabling memory protection features"
    ],
    a: 1,
    why: "Type-safe languages and ASLR complicate exploitation and prevent unsafe memory use.",
    feedback: {
      A: "That weakens security.",
      C: "Bigger buffers don’t eliminate overflows.",
      D: "Disabling protections increases risk."
    }
  },
  {
    q: "What is one reason legacy devices remain particularly vulnerable?",
    options: [
      "They have up-to-date encryption protocols",
      "Their firmware is no longer supported by vendors",
      "They are only used in secure environments",
      "They block all network access"
    ],
    a: 1,
    why: "Unsupported firmware means no new patches or fixes.",
    feedback: {
      A: "Often the opposite: older, weaker crypto.",
      C: "Many aren’t isolated.",
      D: "They’re often still networked for operations."
    }
  },
  {
    q: "What is the best long-term approach to dealing with EOL systems?",
    options: [
      "Continue using them indefinitely",
      "Replace or update them before they reach EOL status",
      "Disconnect them from the internet and ignore them",
      "Use pirated versions of newer software"
    ],
    a: 1,
    why: "Proactively refresh before EOL to maintain support and patching.",
    feedback: {
      A: "Risk keeps growing over time.",
      C: "Isolation can be temporary, not a strategy.",
      D: "Illegal and insecure."
    }
  }
];

// --- State / Paging ----------------------------------------------------------
const PAGE_SIZE = 15;          // always show 15 questions
let cycleIndex = 0;            // advances by 15 on each Reset

let QUESTIONS = [];
const qWrap = document.getElementById('qWrap');
const results = document.getElementById('results');
const scoreText = document.getElementById('scoreText');
const scoreProg = document.getElementById('scoreProg');
const answerKey = document.getElementById('answerKey');
const qcount = document.getElementById('qcount');

function shuffle(arr){
  for(let i=arr.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [arr[i],arr[j]] = [arr[j],arr[i]];
  }
  return arr;
}

// slice 15, with wraparound if needed
function getSlice(start, size){
  const total = BANK.length;
  const out = [];
  for(let i=0;i<size;i++){
    out.push(BANK[(start + i) % total]);
  }
  return out;
}

function reset(){
  QUESTIONS = getSlice(cycleIndex, PAGE_SIZE).map((q, idx) => ({...q, id: idx+1}));
  cycleIndex = (cycleIndex + PAGE_SIZE) % BANK.length; // advance to next “page” for next Reset
  render();
  results.hidden = true;
  scoreProg.max = QUESTIONS.length;
  qcount.textContent = `${QUESTIONS.length} Questions`;
}

function render(){
  qWrap.innerHTML = '';
  answerKey.innerHTML = '';
  QUESTIONS.forEach((q, qi) => {
    const card = document.createElement('article');
    card.className = 'q';
    card.id = `q${qi+1}`;

    const head = document.createElement('div');
    head.className = 'q-header';
    head.innerHTML = `<div class="q-title">${qi+1}. ${q.q}</div>`;

    const body = document.createElement('div');
    body.className = 'q-body';

    const opts = document.createElement('div');
    opts.className = 'opts';

    q.options.forEach((txt, oi) => {
      const id = `q${qi}_opt${oi}`;
      const row = document.createElement('div');
      row.className = 'opt';

      const input = document.createElement('input');
      input.type = 'radio';
      input.name = `q${qi}`;
      input.id = id;
      input.value = oi;

      const label = document.createElement('label');
      label.setAttribute('for', id);
      label.innerHTML = `<strong>${String.fromCharCode(65+oi)}.</strong> ${txt}`;

      row.appendChild(input); row.appendChild(label);
      opts.appendChild(row);
    });

    const ctrls = document.createElement('div');
    ctrls.className = 'controls';
    const btnCheck = document.createElement('button');
    btnCheck.textContent = 'Check';
    btnCheck.type = 'button';
    btnCheck.addEventListener('click', () => gradeOne(qi));

    const btnClear = document.createElement('button');
    btnClear.textContent = 'Clear';
    btnClear.type = 'button';
    btnClear.className = 'ghost';
    btnClear.addEventListener('click', () => clearOne(qi));

    const fb = document.createElement('div');
    fb.className = 'explain';
    fb.id = `fb${qi}`;

    ctrls.appendChild(btnCheck); ctrls.appendChild(btnClear);
    body.appendChild(opts);
    body.appendChild(ctrls);
    body.appendChild(fb);

    card.appendChild(head);
    card.appendChild(body);
    qWrap.appendChild(card);

    const li = document.createElement('li');
    li.innerHTML = `<span class="akey">${String.fromCharCode(65+q.a)}</span> – ${q.options[q.a]}`;
    answerKey.appendChild(li);
  });
}

function getChoice(qi){
  const sel = document.querySelector(`input[name="q${qi}"]:checked`);
  return sel ? parseInt(sel.value,10) : null;
}

function gradeOne(qi){
  const q = QUESTIONS[qi];
  const choice = getChoice(qi);
  const card = document.getElementById(`q${qi+1}`);
  const fb = document.getElementById(`fb${qi}`);
  card.classList.remove('correct','incorrect');

  if(choice === null){
    fb.innerHTML = '<em>Please select an option.</em>';
    return;
  }
  const isCorrect = choice === q.a;
  card.classList.add(isCorrect ? 'correct' : 'incorrect');
  const your = String.fromCharCode(65+choice);
  const key = String.fromCharCode(65+q.a);

  let extra = '';
  if(!isCorrect && q.feedback){
    extra = q.feedback[your] ? `<br><em>${q.feedback[your]}</em>` : '';
  }

  fb.innerHTML = `${isCorrect ? '✅ Correct' : '❌ Incorrect'} — Your answer: <strong>${your}</strong>. Correct answer: <strong class="akey">${key}</strong>.
    <br>${q.why}${extra}`;
  updateScore();
}

function clearOne(qi){
  const card = document.getElementById(`q${qi+1}`);
  const fb = document.getElementById(`fb${qi}`);
  card.classList.remove('correct','incorrect');
  fb.textContent='';
  const radios = document.querySelectorAll(`input[name="q${qi}"]`);
  radios.forEach(r=> r.checked=false);
  updateScore();
}

function updateScore(){
  let correct = 0;
  QUESTIONS.forEach((q, qi)=>{
    const sel = getChoice(qi);
    if(sel !== null && sel === q.a) correct++;
  });
  scoreText.textContent = `${correct} / ${QUESTIONS.length} correct`;
  scoreProg.value = correct;
  results.hidden = false;
}

function gradeAll(){
  QUESTIONS.forEach((_, qi) => gradeOne(qi));
}

// --- Top controls ------------------------------------------------------------
document.getElementById('btnCheckAll').addEventListener('click', gradeAll);
document.getElementById('btnReset').addEventListener('click', reset);
document.getElementById('btnShuffle').addEventListener('click', ()=>{
  QUESTIONS = shuffle(QUESTIONS);
  render();
});

// Init
reset();
</script>
</body>
</html>
